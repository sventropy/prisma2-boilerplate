# Migration `20200501112518-init`

This migration has been generated by sventropy at 5/1/2020, 11:25:18 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "ItemType" AS ENUM ('A', 'B', 'C');

CREATE TABLE "public"."Header" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "id" SERIAL,
    "title" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Item" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "headerId" integer   ,
    "id" SERIAL,
    "netAmount" Decimal(65,30)  NOT NULL ,
    "title" text   ,
    "type" "ItemType" NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."Item" ADD FOREIGN KEY ("headerId")REFERENCES "public"."Header"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200501112518-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,32 @@
+datasource db {
+  provider = "postgresql"
+  url      = "postgres://postgres:dbsecret@0.0.0.0:5432/postgres?schema=public"
+}
+
+generator prisma_client {
+  provider = "prisma-client-js"
+}
+
+model Header {
+  id        Int      @default(autoincrement()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  title     String
+  items     Item[]
+}
+
+model Item {
+  id        Int      @default(autoincrement()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  title     String?
+  type      ItemType
+  netAmount Float
+  headerId  Int?
+}
+
+enum ItemType {
+  A
+  B
+  C
+}
```


